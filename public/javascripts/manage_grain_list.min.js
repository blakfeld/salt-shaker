$(document).ready(function(){var d=io.connect("http://localhost:3000"),f=document.getElementById("grains_list"),e=location.pathname.substring(location.pathname.lastIndexOf("/")+1);d.emit("get_minion_grains",{minion_id:e});d.on("grain_list",function(b){if(b.grains){b=b.grains;var a="<ul class='list-group'>";for(key in b){a+="<li class='list-group-item'>";a+="<h4 class='list-group-item-heading'>"+key+"</h4>";if("object"!==typeof b[key])a+="<p class='list-group-item-text'><ul><li>"+b[key]+"</li></ul></p>";
else{if(Array.isArray(b[key]))for(var a=a+"<ul>",c=0;c<b[key].length;c++)if("object"!==typeof b[key][c])a+="<li>"+b[key][c]+"</li>";else for(subkey in b[key][c])a+="<li><b>"+subkey+": </b>"+b[key][c][subkey]+"</li>";else for(subkey in a+="<ul>",b[key])a+="<li><b>"+subkey+": </b>"+b[key][subkey]+"</li>";a+="</ul>"}a+="</li>"}f.innerHTML=a+"</ul>";$("#refresh").button("reset")}});$("#refresh").click(function(){$(this).button("loading");$(this).prop("disabled",!0);d.emit("refresh_minion_grains",{minion_id:e})})});
